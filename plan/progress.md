# プロジェクト進捗状況

## 完成した機能

- プロジェクト基本設計とアーキテクチャ設計
- 技術スタックの選定（Astro + React + TypeScript + UnoCSS + shadcn/ui）
- 基本レイアウト（ヘッダー、フッター、ナビゲーション）
- 環境変数を利用した統一的なルーティング設計（`import.meta.env.BASE_URL`の活用）
- モバイルレスポンシブ対応の基本実装
- 主要ページの基本構造：
  - ホームページ（ヒーローセクション、最近の作品プレビュー、活動紹介）
  - 部活紹介ページ
  - 基本的なギャラリーページ
  - 年間予定ページ
  - 入部案内ページ
- アナリティクス：
  - Google Analyticsの実装
  - 環境変数による構成管理
- データ管理：
  - 作品データ自動生成システム
  - プライバシーに配慮した公開用データ生成
  - TypeScriptスクリプトによる半自動化
- ルーティング設定の文書化（開発環境と本番環境の違いを吸収）
- GitHub Pagesデプロイに関する問題分析と対応計画の策定
- Viteの画像インポート機能を活用した最適化計画の策定

## 実装予定の機能

- GitHub Pagesデプロイ問題の解決：
  - CSSの読み込み問題修正
  - ナビゲーションリンクの修正
  - ギャラリー画像表示問題の解決（Viteインポート活用）
- ギャラリー機能の強化
  - 画像モーダル表示機能
  - 作品カテゴリフィルタリングUI
  - 画像遅延読み込み最適化
  - Viteの画像最適化による表示パフォーマンス向上
- コンテンツ管理システムの簡易化
  - 追加のJSON/YAML データソースからの動的コンテンツ生成
  - ギャラリー画像の管理システム改善
  - ESMインポートによる型安全な画像参照
- SEO 最適化
  - メタデータ最適化
  - OGP（Open Graph Protocol）対応
- アクセシビリティ対応
  - キーボードナビゲーション
  - スクリーンリーダー対応
  - コントラスト比の確保
- パフォーマンス最適化
  - 画像最適化（WebP 形式、適切なサイズ）
  - クリティカル CSS のインライン化
  - Javascript の最小化
- アナリティクス強化
  - イベントトラッキングの追加
  - カスタムレポートの設定
  - プライバシーポリシーページの追加

## 現在の状態

- 基本的なサイト構造と主要ページの骨格が実装済み
- GitHub Pagesへのデプロイは自動化されているが、いくつかの問題が発生中：
  - CSSが正しく読み込まれない
  - ナビゲーションのリンクが正しく機能しない
  - ギャラリーの画像が表示されない（パス解決の問題）
- ギャラリー画像の管理方法について方針転換を検討中（Viteインポート活用）
- 実際のコンテンツ（テキスト、画像）はプレースホルダーの状態
- デザインシステムの基本要素は整備済み（UnoCSS + shadcn/ui）
- モバイルナビゲーションは機能しているが、UX 改善の余地あり
- Google Analyticsが実装され、訪問者データの収集が可能
- 作品データ生成スクリプトが整備され、プライバシーに配慮したデータパイプラインが構築完了
- ESモジュール対応のTypeScriptスクリプト実行環境が整備完了
- ファイルベースのルーティングが確立し、環境差異を吸収する仕組みが整備完了

## 既知の課題

- GitHub Pagesデプロイの問題：
  - CSSが読み込まれずレイアウトが崩れる
  - ナビゲーションのリンク先が崩れる
  - gallery.astroのアセットがデプロイ先では表示されない
- 画像管理システムの最適化が必要：
  - 現在の文字列ベースの参照からViteのインポートシステムへの移行
  - 画像生成スクリプトの更新
- 実際の部活動の写真や作品が必要
- ギャラリーの拡大表示機能が未実装
- コンテンツ更新フローの確立が必要
- 部活動スケジュールの動的更新方法の検討
- パフォーマンス最適化（特に画像読み込み）が必要
- Google Analyticsの設定を完了させるための実際のGAアカウント連携
- プライバシーに関する通知またはポリシーページの追加
- カスタムドメイン設定のテストが未実施

## プロジェクト決定の進化

| 決定事項           | 初期案           | 現在の方針                | 理由                                               |
| ------------------ | ---------------- | ------------------------- | -------------------------------------------------- |
| フレームワーク     | React SPA        | Astro + React             | より良い SSG、パフォーマンス、開発体験             |
| スタイリング       | CSS Modules      | UnoCSS + shadcn/ui        | 開発効率、一貫性、メンテナンス性、軽量化           |
| デプロイ           | Netlify          | GitHub Pages              | コスト効率（無料）、既存の GitHub ワークフロー活用 |
| コンテンツ管理     | CMS              | 静的 JSON/TS ファイル     | シンプルさ、メンテナンス性、コスト                 |
| 画像管理           | 外部サービス     | Viteインポート + 最適化   | 型安全性、ビルド時最適化、パス解決の一貫性         |
| アナリティクス     | なし             | Google Analytics          | 無料、豊富な機能、設定の容易さ                     |
| モジュールシステム | CommonJS         | ESM（ECMAScript Modules） | モダンな標準、将来性、互換性                       |
| プライバシー対応   | 最小限           | 積極的なデータ保護        | ユーザー保護、法的要件、信頼構築                   |
| ルーティング       | ハードコードパス | BASE_URL環境変数活用      | 環境間の一貫性、将来のドメイン変更対応             |
| アセット管理       | src内部管理      | Viteインポート活用        | デプロイ時の一貫性確保、型安全性、最適化           |
| ビルド設定         | デフォルト       | カスタム最適化            | CSS minification、アセットパス解決の改善           |
